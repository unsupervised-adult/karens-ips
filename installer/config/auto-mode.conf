# Karen's IPS Auto Mode Configuration
# SPDX-FileCopyrightText: 2025 Karen's IPS  
# SPDX-License-Identifier: GPL-2.0-only
#
# Auto-mode for non-technical users - sensible defaults

# =============================================================================
# AUTO MODE SETTINGS
# =============================================================================

# Enable automatic installation
NON_INTERACTIVE=1
DEBUG=0

# Auto-detect interfaces and networks
MGMT_IFACE=""                     # Auto-detect
MGMT_IP="dhcp"
MGMT_GW=""                        # Auto-detect
MGMT_DNS="1.1.1.1"                # Cloudflare DNS (fast & private)

IFACE_IN=""                       # Auto-detect
IFACE_OUT=""                      # Auto-detect
HOME_NET=""                       # Auto-detect

# =============================================================================
# RECOMMENDED BLOCKLISTS (ENABLED BY DEFAULT)
# =============================================================================

# Essential SmartTV/IoT blocking
BLOCKLIST_PERFLYST_SMARTTV="true"     # Samsung, LG, etc
BLOCKLIST_PERFLYST_ANDROID="true"     # Android tracking
BLOCKLIST_PERFLYST_FIRETV="true"      # Amazon FireTV
BLOCKLIST_PERFLYST_SESSIONREPLAY="true"  # Session replay

# Use hagezi Pro (recommended balanced blocking)
BLOCKLIST_HAGEZI_LIGHT="false"
BLOCKLIST_HAGEZI_NORMAL="false"
BLOCKLIST_HAGEZI_PRO="true"           # RECOMMENDED
BLOCKLIST_HAGEZI_PROPLUS="false"
BLOCKLIST_HAGEZI_ULTIMATE="false"
BLOCKLIST_HAGEZI_NATIVE="true"        # Native tracker blocking

# =============================================================================
# PERFORMANCE SETTINGS (AUTO-TUNED)
# =============================================================================

# Auto-tune based on hardware
SURICATA_AF_PACKET_THREADS=0          # Auto-detect
SURICATA_WORKERS=0                    # Auto-detect
MIN_MEMORY_MB=1024                    # Lower requirement for friends
MIN_CPU_CORES=1                       # Lower requirement

# =============================================================================
# SERVICE SETTINGS
# =============================================================================

# Enable all features
INSTALL_SLIPS=true
INSTALL_ML_DETECTOR=true
INSTALL_BLOCKLISTS=true
INSTALL_NODEJS=true
INSTALL_WEBUI=true
ENABLE_KERNEL_TUNING=true

# SLIPS Web UI
SLIPS_WEBUI_PORT=55000

# Redis
REDIS_MAX_MEMORY="1gb"                # Conservative for friends

# =============================================================================
# AUTO-UPDATE SETTINGS
# =============================================================================

# Weekly updates on Sunday at 3 AM
BLOCKLIST_UPDATE_DAY="Sunday"
BLOCKLIST_UPDATE_HOUR="3"

# Enable automatic service recovery
ENABLE_AUTO_RESTART=true
ENABLE_HEALTH_CHECKS=true

# Timezone (auto-detect from system)
TIMEZONE=""                           # Auto-detect

# =============================================================================
# PATHS (DEFAULT)
# =============================================================================

SLIPS_DIR="/opt/StratosphereLinuxIPS"
SURICATA_CONFIG_DIR="/etc/suricata"
IPS_FILTER_DB="/var/lib/suricata/ips_filter.db"
BLOCKLISTS_DIR="/opt/karens-ips-blocklists"

# Logging
LOG_DIR="/var/log"
INSTALL_LOG="$LOG_DIR/ips-installer.log"

# =============================================================================
# NGINX REVERSE PROXY
# =============================================================================

# Enable Nginx reverse proxy with HTTPS and authentication
ENABLE_NGINX=true                     # Enable Nginx in auto-mode
NGINX_HTTPS=true
NGINX_AUTH=true
NGINX_PORT=443
NGINX_HTTP_PORT=80
NGINX_USERNAME="admin"
NGINX_PASSWORD=""                     # Auto-generate password

# Web Interface Backend
WEBUI_IP="127.0.0.1"
WEBUI_PORT=55000

# Package Manager
export DEBIAN_FRONTEND=noninteractive
export TZ=UTC